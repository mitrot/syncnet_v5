2025-06-09 00:03:02,802 - server.main - INFO - Starting SyncNet v5 Server: server1
2025-06-09 00:03:02,803 - server.main - INFO - Configuration: localhost:8000
2025-06-09 00:03:02,804 - server.main - INFO - Log Level: INFO
2025-06-09 00:03:02,807 - storage.data/server1.db - INFO - Database initialized successfully
2025-06-09 00:03:02,808 - election.server1 - INFO - Election initialized for server1 at position 0
2025-06-09 00:03:02,808 - heartbeat.server1 - INFO - Heartbeat monitor initialized for server1
2025-06-09 00:03:02,808 - server.server1 - INFO - SyncNet server server1 initialized
2025-06-09 00:03:02,810 - server.main - INFO - Initializing server components...
2025-06-09 00:03:02,811 - server.main - INFO - Starting server services...
2025-06-09 00:03:02,811 - server.server1 - INFO - Starting SyncNet server server1
2025-06-09 00:03:02,813 - storage.data/data/server1_messages.db.db - INFO - Database initialized successfully
2025-06-09 00:03:02,814 - election.server1 - INFO - Election initialized for server1 at position 0
2025-06-09 00:03:02,814 - heartbeat.server1 - INFO - Heartbeat monitor initialized for server1
2025-06-09 00:03:02,821 - server.server1 - INFO - TCP server listening on localhost:8000
2025-06-09 00:03:02,822 - server.server1 - INFO - UDP heartbeat listening on localhost:8020
2025-06-09 00:03:02,822 - server.server1 - INFO - UDP election listening on localhost:8030
2025-06-09 00:03:02,824 - server.server1 - INFO - TCP server listening on localhost:8000
2025-06-09 00:03:02,824 - server.server1 - INFO - UDP server thread started
2025-06-09 00:03:02,825 - server.server1 - INFO - UDP election thread started
2025-06-09 00:03:02,825 - heartbeat.server1 - INFO - Heartbeat sending thread started
2025-06-09 00:03:02,826 - heartbeat.server1 - INFO - Failure monitoring thread started
2025-06-09 00:03:02,826 - heartbeat.server1 - INFO - Heartbeat monitoring started
2025-06-09 00:03:02,827 - heartbeat.server1 - INFO - Server server2 status changed: unknown → active
2025-06-09 00:03:02,827 - server.server1 - INFO - Server server1 started successfully on TCP:8000
2025-06-09 00:03:02,827 - heartbeat.server1 - INFO - Server server3 status changed: unknown → active
2025-06-09 00:03:02,827 - server.main - INFO - server1 is now running!
2025-06-09 00:03:02,828 - server.main - INFO - TCP Port: 8000
2025-06-09 00:03:02,828 - server.main - INFO - Heartbeat Port: 8020
2025-06-09 00:03:02,828 - server.main - INFO - Election Port: 8030
2025-06-09 00:03:02,828 - server.main - INFO - Server is ready to accept connections
2025-06-09 00:03:02,829 - server.main - INFO - Test mode: Running for 10 seconds...
2025-06-09 00:03:06,829 - heartbeat.server1 - INFO - Server server2 status changed: active → suspected
2025-06-09 00:03:06,829 - heartbeat.server1 - INFO - Server server3 status changed: active → suspected
2025-06-09 00:03:08,830 - heartbeat.server1 - INFO - Server server2 status changed: suspected → failed
2025-06-09 00:03:08,830 - heartbeat.server1 - WARNING - Server server2 detected as FAILED
2025-06-09 00:03:08,830 - server.server1 - WARNING - Server failure detected: server2
2025-06-09 00:03:08,830 - heartbeat.server1 - INFO - Server server3 status changed: suspected → failed
2025-06-09 00:03:08,830 - heartbeat.server1 - WARNING - Server server3 detected as FAILED
2025-06-09 00:03:08,830 - server.server1 - WARNING - Server failure detected: server3
2025-06-09 00:03:10,828 - server.server1 - INFO - Starting automatic leader election
2025-06-09 00:03:10,828 - election.server1 - INFO - Syncing failed servers - current statuses: {'server2': 'failed', 'server3': 'failed'}
2025-06-09 00:03:10,828 - election.server1 - INFO - Failed servers before sync: set()
2025-06-09 00:03:10,828 - election.server1 - INFO - Synced server2 as failed from heartbeat status
2025-06-09 00:03:10,830 - election.server1 - INFO - Synced server3 as failed from heartbeat status
2025-06-09 00:03:10,830 - election.server1 - INFO - Failed servers after sync: {'server3', 'server2'}
2025-06-09 00:03:10,830 - election.server1 - INFO - Syncing failed servers - current statuses: {'server2': 'failed', 'server3': 'failed'}
2025-06-09 00:03:10,830 - election.server1 - INFO - Failed servers before sync: {'server3', 'server2'}
2025-06-09 00:03:10,830 - election.server1 - INFO - Failed servers after sync: {'server3', 'server2'}
2025-06-09 00:03:10,830 - election.server1 - INFO - Starting election election_1749441790_3adce200
2025-06-09 00:03:10,833 - election.server1 - INFO - Became leader! Election election_1749441790_3adce200 completed in 0.00s
2025-06-09 00:03:10,833 - server.server1 - INFO - Started election election_1749441790_3adce200, sent to server1
2025-06-09 00:03:10,835 - election.server1 - INFO - Leader announcement completed for server1
2025-06-09 00:03:12,830 - server.main - INFO - Test mode complete, shutting down
2025-06-09 00:03:12,830 - server.main - INFO - Shutting down server...
2025-06-09 00:03:12,830 - server.server1 - INFO - Stopping SyncNet server server1...
2025-06-09 00:03:12,833 - heartbeat.server1 - INFO - Failure monitoring thread stopped
2025-06-09 00:03:12,838 - heartbeat.server1 - INFO - Heartbeat sending thread stopped
2025-06-09 00:03:12,838 - heartbeat.server1 - INFO - Heartbeat monitoring stopped
2025-06-09 00:03:12,854 - server.server1 - INFO - UDP election thread stopped
2025-06-09 00:03:12,885 - server.server1 - INFO - UDP server thread stopped
2025-06-09 00:03:12,885 - server.server1 - INFO - TCP server loop ended
2025-06-09 00:03:12,886 - storage.data/data/server1_messages.db.db - INFO - Storage closed
2025-06-09 00:03:12,886 - server.server1 - INFO - ✋ SyncNet server server1 stopped after 10.1s
2025-06-09 00:03:12,887 - server.main - INFO - Server shutdown complete
