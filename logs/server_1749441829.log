2025-06-09 00:03:49,679 - server.main - INFO - Starting SyncNet v5 Server: server1
2025-06-09 00:03:49,679 - server.main - INFO - Configuration: localhost:8000
2025-06-09 00:03:49,679 - server.main - INFO - Log Level: INFO
2025-06-09 00:03:49,683 - storage.data/server1.db - INFO - Database initialized successfully
2025-06-09 00:03:49,684 - election.server1 - INFO - Election initialized for server1 at position 0
2025-06-09 00:03:49,684 - heartbeat.server1 - INFO - Heartbeat monitor initialized for server1
2025-06-09 00:03:49,684 - server.server1 - INFO - SyncNet server server1 initialized
2025-06-09 00:03:49,684 - server.main - INFO - Initializing server components...
2025-06-09 00:03:49,684 - server.main - INFO - Starting server services...
2025-06-09 00:03:49,684 - server.server1 - INFO - Starting SyncNet server server1
2025-06-09 00:03:49,684 - storage.data/data/server1_messages.db.db - INFO - Database initialized successfully
2025-06-09 00:03:49,684 - election.server1 - INFO - Election initialized for server1 at position 0
2025-06-09 00:03:49,684 - heartbeat.server1 - INFO - Heartbeat monitor initialized for server1
2025-06-09 00:03:49,695 - server.server1 - INFO - TCP server listening on localhost:8000
2025-06-09 00:03:49,695 - server.server1 - INFO - UDP heartbeat listening on localhost:8020
2025-06-09 00:03:49,695 - server.server1 - INFO - UDP election listening on localhost:8030
2025-06-09 00:03:49,695 - server.server1 - INFO - TCP server listening on localhost:8000
2025-06-09 00:03:49,699 - server.server1 - INFO - UDP server thread started
2025-06-09 00:03:49,699 - server.server1 - INFO - UDP election thread started
2025-06-09 00:03:49,699 - heartbeat.server1 - INFO - Heartbeat sending thread started
2025-06-09 00:03:49,699 - heartbeat.server1 - INFO - Failure monitoring thread started
2025-06-09 00:03:49,699 - heartbeat.server1 - INFO - Heartbeat monitoring started
2025-06-09 00:03:49,699 - heartbeat.server1 - INFO - Server server2 status changed: unknown → active
2025-06-09 00:03:49,699 - server.server1 - INFO - Server server1 started successfully on TCP:8000
2025-06-09 00:03:49,699 - heartbeat.server1 - INFO - Server server3 status changed: unknown → active
2025-06-09 00:03:49,699 - server.main - INFO - server1 is now running!
2025-06-09 00:03:49,699 - server.main - INFO - TCP Port: 8000
2025-06-09 00:03:49,699 - server.main - INFO - Heartbeat Port: 8020
2025-06-09 00:03:49,699 - server.main - INFO - Election Port: 8030
2025-06-09 00:03:49,699 - server.main - INFO - Server is ready to accept connections
2025-06-09 00:03:49,699 - server.main - INFO - Server running... Press Ctrl+C to stop
2025-06-09 00:03:53,704 - heartbeat.server1 - INFO - Server server2 status changed: active → suspected
2025-06-09 00:03:53,704 - heartbeat.server1 - INFO - Server server3 status changed: active → suspected
2025-06-09 00:03:55,705 - heartbeat.server1 - INFO - Server server2 status changed: suspected → failed
2025-06-09 00:03:55,705 - heartbeat.server1 - WARNING - Server server2 detected as FAILED
2025-06-09 00:03:55,705 - server.server1 - WARNING - Server failure detected: server2
2025-06-09 00:03:55,705 - heartbeat.server1 - INFO - Server server3 status changed: suspected → failed
2025-06-09 00:03:55,705 - heartbeat.server1 - WARNING - Server server3 detected as FAILED
2025-06-09 00:03:55,705 - server.server1 - WARNING - Server failure detected: server3
2025-06-09 00:03:57,702 - server.server1 - INFO - Starting automatic leader election
2025-06-09 00:03:57,703 - election.server1 - INFO - Syncing failed servers - current statuses: {'server2': 'failed', 'server3': 'failed'}
2025-06-09 00:03:57,703 - election.server1 - INFO - Failed servers before sync: set()
2025-06-09 00:03:57,703 - election.server1 - INFO - Synced server2 as failed from heartbeat status
2025-06-09 00:03:57,704 - election.server1 - INFO - Synced server3 as failed from heartbeat status
2025-06-09 00:03:57,704 - election.server1 - INFO - Failed servers after sync: {'server2', 'server3'}
2025-06-09 00:03:57,704 - election.server1 - INFO - Syncing failed servers - current statuses: {'server2': 'failed', 'server3': 'failed'}
2025-06-09 00:03:57,705 - election.server1 - INFO - Failed servers before sync: {'server2', 'server3'}
2025-06-09 00:03:57,705 - election.server1 - INFO - Failed servers after sync: {'server2', 'server3'}
2025-06-09 00:03:57,705 - election.server1 - INFO - Starting election election_1749441837_2c55a395
2025-06-09 00:03:57,708 - election.server1 - INFO - Became leader! Election election_1749441837_2c55a395 completed in 0.00s
2025-06-09 00:03:57,708 - server.server1 - INFO - Started election election_1749441837_2c55a395, sent to server1
2025-06-09 00:03:57,708 - election.server1 - INFO - Leader announcement completed for server1
2025-06-09 00:04:05,515 - heartbeat.server1 - INFO - Server server2 status changed: failed → active
2025-06-09 00:04:05,515 - heartbeat.server1 - INFO - Server server2 recovered to ACTIVE
2025-06-09 00:04:05,516 - server.server1 - INFO - Server recovery detected: server2
2025-06-09 00:04:05,516 - election.server1 - INFO - Marked server2 as recovered in ring topology
2025-06-09 00:04:13,520 - election.server1 - INFO - Accepted server2 as leader. Election completed in 15.82s
2025-06-09 00:04:23,712 - heartbeat.server1 - INFO - Server server2 status changed: active → suspected
2025-06-09 00:04:25,713 - heartbeat.server1 - INFO - Server server2 status changed: suspected → failed
2025-06-09 00:04:25,713 - heartbeat.server1 - WARNING - Server server2 detected as FAILED
2025-06-09 00:04:25,713 - server.server1 - WARNING - Server failure detected: server2
2025-06-09 00:04:25,713 - server.server1 - INFO - Leader failed, starting new election
2025-06-09 00:04:25,713 - election.server1 - INFO - Marked server2 as failed in ring topology
2025-06-09 00:04:25,713 - election.server1 - WARNING - Leader server2 failed, starting new election
2025-06-09 00:04:25,713 - election.server1 - INFO - Election state reset
2025-06-09 00:04:25,713 - election.server1 - INFO - Starting election in 1.30s to prevent coordination conflicts
2025-06-09 00:04:25,716 - election.server1 - INFO - Temporarily removing server2 from ring
2025-06-09 00:04:27,018 - election.server1 - INFO - Starting election election_1749441867_fede0677
2025-06-09 00:04:35,020 - election.server1 - WARNING - Election election_1749441867_fede0677 timed out after 8.0s
2025-06-09 00:04:35,020 - election.server1 - INFO - Election state reset
2025-06-09 00:04:35,020 - election.server1 - INFO - Retrying election in 2.68s
2025-06-09 00:04:37,697 - election.server1 - INFO - Retrying election after timeout
2025-06-09 00:04:37,697 - election.server1 - INFO - Starting election election_1749441877_f19497ad
2025-06-09 00:04:45,699 - election.server1 - WARNING - Election election_1749441877_f19497ad timed out after 8.0s
2025-06-09 00:04:45,699 - election.server1 - INFO - Election state reset
2025-06-09 00:04:45,699 - election.server1 - INFO - Retrying election in 2.16s
2025-06-09 00:04:47,860 - election.server1 - INFO - Retrying election after timeout
2025-06-09 00:04:47,860 - election.server1 - INFO - Starting election election_1749441887_f0d4773a
2025-06-09 00:04:55,861 - election.server1 - WARNING - Election election_1749441887_f0d4773a timed out after 8.0s
2025-06-09 00:04:55,861 - election.server1 - INFO - Election state reset
2025-06-09 00:04:55,861 - election.server1 - INFO - Retrying election in 2.13s
2025-06-09 00:04:57,994 - election.server1 - INFO - Retrying election after timeout
2025-06-09 00:04:57,994 - election.server1 - INFO - Starting election election_1749441897_25555710
2025-06-09 00:05:05,996 - election.server1 - WARNING - Election election_1749441897_25555710 timed out after 8.0s
2025-06-09 00:05:05,996 - election.server1 - INFO - Election state reset
2025-06-09 00:05:05,996 - election.server1 - INFO - Retrying election in 2.13s
2025-06-09 00:05:08,124 - election.server1 - INFO - Retrying election after timeout
2025-06-09 00:05:08,124 - election.server1 - INFO - Starting election election_1749441908_a6c56228
2025-06-09 00:05:11,633 - heartbeat.server1 - INFO - Server server2 status changed: failed → active
2025-06-09 00:05:11,633 - heartbeat.server1 - INFO - Server server2 recovered to ACTIVE
2025-06-09 00:05:11,633 - server.server1 - INFO - Server recovery detected: server2
2025-06-09 00:05:11,633 - election.server1 - INFO - Marked server2 as recovered in ring topology
2025-06-09 00:05:16,126 - election.server1 - WARNING - Election election_1749441908_a6c56228 timed out after 8.0s
2025-06-09 00:05:16,126 - election.server1 - INFO - Election state reset
2025-06-09 00:05:16,126 - election.server1 - INFO - Retrying election in 3.91s
2025-06-09 00:05:19,639 - election.server1 - INFO - Accepted server2 as leader
2025-06-09 00:05:28,257 - heartbeat.server1 - INFO - Server server3 status changed: failed → active
2025-06-09 00:05:28,258 - heartbeat.server1 - INFO - Server server3 recovered to ACTIVE
2025-06-09 00:05:28,258 - server.server1 - INFO - Server recovery detected: server3
2025-06-09 00:05:28,258 - election.server1 - INFO - Marked server3 as recovered in ring topology
2025-06-09 00:05:36,263 - election.server1 - INFO - Accepted server3 as leader
